<?xml version="1.0" encoding="UTF-8" ?>
<architecture WordSize="32">
	<!--
		Components:
		Interrupt
		Timer
		Stack
		register	
		registerFile
		ALU
		memory
	-->
	<register>
		<id>portA</id>
		<inputs>
			<input>reg.out1</input>
			<input>reg.out2</input>
		</inputs>
		<output>out</output>
		<gpio>true</gpio>
	</register>
	<stack>
		<id>pcStack</id>
		<Size>32</Size>
		<inputs>
			<input>pp.pc</input>
		</inputs>
		<output>out</output>
	</stack>
	<registerFile>
		<id>reg</id>
		<addressSize>5</addressSize>
		<port>
			<type>out</type>
			<addresses>
				<address>ir.inst[0,5]</address>
				<address>reg.out1</address>
				<address>reg.out2</address>
			</addresses>
			<output>out1</output>
		</port>
		<port>
			<type>out</type>
			<addresses>
				<address>ir.inst[6,10]</address>
				<address>reg.out1</address>
				<address>reg.out2</address>
			</addresses>
			<output>out2</output>
		</port>
		<port>
			<type>in</type>
			<addresses>
				<address>ir.inst[11,15]</address>
			</addresses>
			<inputs>
				<input>mainMem.out</input>
				<input>alu.out</input>
				<input>ir.inst[16,31]</input>
				<input>reg.out1</input>
				<input>reg.out2</input>
				<input>portA.out</input>
			</inputs>
		</port>
	</registerFile>
	<register>
		<id>pp</id>
		<inputs>
			<input>alu.out</input>
			<input>pcStack.out</input>
		</inputs>
		<output>pc</output>
		<GPIO>false</GPIO>
	</register>
	<register>
		<id>ir</id>
		<inputs>
			<input>mainMem.out</input>
		</inputs>
		<output>inst</output>
		<GPIO>false</GPIO>
	</register>
	<alu>
		<id>alu</id>
		<inputs>
			<input>reg.out1</input>
			<input>reg.out2</input>
			<input>pcStack.out</input>
			<input>alu.out</input>
			<input>pp.pc</input>
			<input>const.0</input>
			<input>const.1</input>
		</inputs>
		<output>out</output>
		<!--
			operations:
			add, subtract, lShiftLeft, lShiftRight, aShiftRight, divide, multiply, rotateL, rotateR, bitAnd, bitOr, bitXor, bitNot
		-->
		<operations>
			<operation>add</operation>
			<operation>subtract</operation>
			<operation>lShiftLeft</operation>
			<operation>lShiftRight</operation>
			<operation>bitAnd</operation>
			<operation>bitOr</operation>
			<operation>bitNot</operation>
		</operations>
		<!--
			conditions:
			zero, notZero, equal, notEqual, lower, higher
		-->
		<conditions>
			<condition>zero</condition>
			<condition>equal</condition>
			<condition>lower</condition>
			<condition>higher</condition>
		</conditions>
	</alu>
	<memory>
		<id>mainMem</id>
		<addressSize>32</addressSize>
		<!--
			types:
			OnChip, Extern
		-->
		<type>intern</type>
		<port>
			<type>inout</type>
			<addresses>
				<address>reg.out1</address>
				<address>reg.out2</address>
			</addresses>
			<inputs>
				<input>reg.out1</input>
				<input>reg.out2</input>
				<input>alu.out</input>
				<input>pp.pc</input>
			</inputs>
			<output>out</output>
		</port>
	</memory>
</architecture>
<!--
	Falls noch Zeit ist
	<Interrupt></Interrupt>
	<Timer></Timer>
-->
